(function(r,i){typeof exports=="object"&&typeof module<"u"?i(exports):typeof define=="function"&&define.amd?define(["exports"],i):(r=typeof globalThis<"u"?globalThis:r||self,i(r["planka-client"]={}))})(this,function(r){"use strict";var Xe=Object.defineProperty;var Ye=(r,i,b)=>i in r?Xe(r,i,{enumerable:!0,configurable:!0,writable:!0,value:b}):r[i]=b;var k=(r,i,b)=>Ye(r,typeof i!="symbol"?i+"":i,b);var i=/\{[^{}]+\}/g,b=({allowReserved:e,name:d,value:c})=>{if(c==null)return"";if(typeof c=="object")throw new Error("Deeply-nested arrays/objects arenâ€™t supported. Provide your own `querySerializer()` to handle these.");return`${d}=${e?c:encodeURIComponent(c)}`},B=e=>{switch(e){case"label":return".";case"matrix":return";";case"simple":return",";default:return"&"}},R=e=>{switch(e){case"form":return",";case"pipeDelimited":return"|";case"spaceDelimited":return"%20";default:return","}},z=e=>{switch(e){case"label":return".";case"matrix":return";";case"simple":return",";default:return"&"}},T=({allowReserved:e,explode:d,name:c,style:n,value:u})=>{if(!d){let l=(e?u:u.map(h=>encodeURIComponent(h))).join(R(n));switch(n){case"label":return`.${l}`;case"matrix":return`;${c}=${l}`;case"simple":return l;default:return`${c}=${l}`}}let m=B(n),t=u.map(l=>n==="label"||n==="simple"?e?l:encodeURIComponent(l):b({allowReserved:e,name:c,value:l})).join(m);return n==="label"||n==="matrix"?m+t:t},I=({allowReserved:e,explode:d,name:c,style:n,value:u})=>{if(u instanceof Date)return`${c}=${u.toISOString()}`;if(n!=="deepObject"&&!d){let l=[];Object.entries(u).forEach(([y,s])=>{l=[...l,y,e?s:encodeURIComponent(s)]});let h=l.join(",");switch(n){case"form":return`${c}=${h}`;case"label":return`.${h}`;case"matrix":return`;${c}=${h}`;default:return h}}let m=z(n),t=Object.entries(u).map(([l,h])=>b({allowReserved:e,name:n==="deepObject"?`${c}[${l}]`:l,value:h})).join(m);return n==="label"||n==="matrix"?m+t:t},q=({path:e,url:d})=>{let c=d,n=d.match(i);if(n)for(let u of n){let m=!1,t=u.substring(1,u.length-1),l="simple";t.endsWith("*")&&(m=!0,t=t.substring(0,t.length-1)),t.startsWith(".")?(t=t.substring(1),l="label"):t.startsWith(";")&&(t=t.substring(1),l="matrix");let h=e[t];if(h==null)continue;if(Array.isArray(h)){c=c.replace(u,T({explode:m,name:t,style:l,value:h}));continue}if(typeof h=="object"){c=c.replace(u,I({explode:m,name:t,style:l,value:h}));continue}if(l==="matrix"){c=c.replace(u,`;${b({name:t,value:h})}`);continue}let y=encodeURIComponent(l==="label"?`.${h}`:h);c=c.replace(u,y)}return c},P=({allowReserved:e,array:d,object:c}={})=>n=>{let u=[];if(n&&typeof n=="object")for(let m in n){let t=n[m];if(t!=null){if(Array.isArray(t)){u=[...u,T({allowReserved:e,explode:!0,name:m,style:"form",value:t,...d})];continue}if(typeof t=="object"){u=[...u,I({allowReserved:e,explode:!0,name:m,style:"deepObject",value:t,...c})];continue}u=[...u,b({allowReserved:e,name:m,value:t})]}}return u.join("&")},E=e=>{if(e){if(e.startsWith("application/json")||e.endsWith("+json"))return"json";if(e==="multipart/form-data")return"formData";if(["application/","audio/","image/","video/"].some(d=>e.startsWith(d)))return"blob";if(e.startsWith("text/"))return"text"}},M=({baseUrl:e,path:d,query:c,querySerializer:n,url:u})=>{let m=u.startsWith("/")?u:`/${u}`,t=e+m;d&&(t=q({path:d,url:t}));let l=c?n(c):"";return l.startsWith("?")&&(l=l.substring(1)),l&&(t+=`?${l}`),t},O=(e,d)=>{var n;let c={...e,...d};return(n=c.baseUrl)!=null&&n.endsWith("/")&&(c.baseUrl=c.baseUrl.substring(0,c.baseUrl.length-1)),c.headers=S(e.headers,d.headers),c},S=(...e)=>{let d=new Headers;for(let c of e){if(!c||typeof c!="object")continue;let n=c instanceof Headers?c.entries():Object.entries(c);for(let[u,m]of n)if(m===null)d.delete(u);else if(Array.isArray(m))for(let t of m)d.append(u,t);else m!==void 0&&d.set(u,typeof m=="object"?JSON.stringify(m):m)}return d},A=class{constructor(){k(this,"_fns");this._fns=[]}clear(){this._fns=[]}exists(e){return this._fns.indexOf(e)!==-1}eject(e){let d=this._fns.indexOf(e);d!==-1&&(this._fns=[...this._fns.slice(0,d),...this._fns.slice(d+1)])}use(e){this._fns=[...this._fns,e]}},_=()=>({error:new A,request:new A,response:new A}),$=(e,d,c)=>{typeof c=="string"||c instanceof Blob?e.append(d,c):e.append(d,JSON.stringify(c))},U={bodySerializer:e=>{let d=new FormData;return Object.entries(e).forEach(([c,n])=>{n!=null&&(Array.isArray(n)?n.forEach(u=>$(d,c,u)):$(d,c,n))}),d}},N={bodySerializer:e=>JSON.stringify(e)},W=P({allowReserved:!1,array:{explode:!0,style:"form"},object:{explode:!0,style:"deepObject"}}),D={"Content-Type":"application/json"},L=(e={})=>({...N,baseUrl:"",fetch:globalThis.fetch,headers:D,parseAs:"auto",querySerializer:W,...e}),J=(e={})=>{let d=O(L(),e),c=()=>({...d}),n=t=>(d=O(d,t),c()),u=_(),m=async t=>{let l={...d,...t,headers:S(d.headers,t.headers)};l.body&&l.bodySerializer&&(l.body=l.bodySerializer(l.body)),l.body||l.headers.delete("Content-Type");let h=M({baseUrl:l.baseUrl??"",path:l.path,query:l.query,querySerializer:typeof l.querySerializer=="function"?l.querySerializer:P(l.querySerializer),url:l.url}),y={redirect:"follow",...l},s=new Request(h,y);for(let g of u.request._fns)s=await g(s,l);let Ve=l.fetch,f=await Ve(s);for(let g of u.response._fns)f=await g(f,s,l);let C={request:s,response:f};if(f.ok){if(f.status===204||f.headers.get("Content-Length")==="0")return{data:{},...C};if(l.parseAs==="stream")return{data:f.body,...C};let g=(l.parseAs==="auto"?E(f.headers.get("Content-Type")):l.parseAs)??"json",v=await f[g]();return g==="json"&&l.responseTransformer&&(v=await l.responseTransformer(v)),{data:v,...C}}let w=await f.text();try{w=JSON.parse(w)}catch{}let j=w;for(let g of u.error._fns)j=await g(w,f,s,l);if(j=j||{},l.throwOnError)throw j;return{error:j,...C}};return{connect:t=>m({...t,method:"CONNECT"}),delete:t=>m({...t,method:"DELETE"}),get:t=>m({...t,method:"GET"}),getConfig:c,head:t=>m({...t,method:"HEAD"}),interceptors:u,options:t=>m({...t,method:"OPTIONS"}),patch:t=>m({...t,method:"PATCH"}),post:t=>m({...t,method:"POST"}),put:t=>m({...t,method:"PUT"}),request:m,setConfig:n,trace:t=>m({...t,method:"TRACE"})}};const a=J(L()),H=e=>((e==null?void 0:e.client)??a).get({...e,url:"/api/config"}),F=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/access-tokens"}),G=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/access-tokens/exchange-using-oidc"}),K=e=>((e==null?void 0:e.client)??a).delete({...e,url:"/api/access-tokens/me"}),Q=e=>((e==null?void 0:e.client)??a).get({...e,url:"/api/users"}),V=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/users"}),X=e=>((e==null?void 0:e.client)??a).get({...e,url:"/api/users/{id}"}),Y=e=>((e==null?void 0:e.client)??a).patch({...e,url:"/api/users/{id}"}),Z=e=>((e==null?void 0:e.client)??a).patch({...e,url:"/api/users/{id}/email"}),x=e=>((e==null?void 0:e.client)??a).patch({...e,url:"/api/users/{id}/password"}),p=e=>((e==null?void 0:e.client)??a).patch({...e,url:"/api/users/{id}/username"}),o=e=>((e==null?void 0:e.client)??a).post({...U,...e,headers:{"Content-Type":null},url:"/api/users/{id}/avatar"}),ee=e=>((e==null?void 0:e.client)??a).delete({...e,url:"/api/users/{id}"}),re=e=>((e==null?void 0:e.client)??a).get({...e,url:"/api/projects"}),ae=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/projects"}),te=e=>((e==null?void 0:e.client)??a).get({...e,url:"/api/projects/{id}"}),le=e=>((e==null?void 0:e.client)??a).patch({...e,url:"/api/projects/{id}"}),ce=e=>((e==null?void 0:e.client)??a).post({...U,...e,headers:{"Content-Type":null},url:"/api/projects/{id}/background-image"}),de=e=>((e==null?void 0:e.client)??a).delete({...e,url:"/api/projects/{id}"}),ue=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/projects/{projectId}/managers"}),ne=e=>((e==null?void 0:e.client)??a).delete({...e,url:"/api/project-managers/{id}"}),me=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/projects/{projectId}/boards"}),he=e=>((e==null?void 0:e.client)??a).get({...e,url:"/api/boards/{id}"}),ie=e=>((e==null?void 0:e.client)??a).patch({...e,url:"/api/boards/{id}"}),fe=e=>((e==null?void 0:e.client)??a).delete({...e,url:"/api/boards/{id}"}),be=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/boards/{boardId}/memberships"}),se=e=>((e==null?void 0:e.client)??a).patch({...e,url:"/api/board-memberships/{id}"}),ge=e=>((e==null?void 0:e.client)??a).delete({...e,url:"/api/board-memberships/{id}"}),ye=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/boards/{boardId}/labels"}),je=e=>((e==null?void 0:e.client)??a).patch({...e,url:"/api/labels/{id}"}),Ce=e=>((e==null?void 0:e.client)??a).delete({...e,url:"/api/labels/{id}"}),we=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/boards/{boardId}/lists"}),Ae=e=>((e==null?void 0:e.client)??a).patch({...e,url:"/api/lists/{id}"}),Ue=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/lists/{id}/sort"}),ve=e=>((e==null?void 0:e.client)??a).delete({...e,url:"/api/lists/{id}"}),Te=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/lists/{listId}/cards"}),Ie=e=>((e==null?void 0:e.client)??a).get({...e,url:"/api/cards/{id}"}),Pe=e=>((e==null?void 0:e.client)??a).patch({...e,url:"/api/cards/{id}"}),Oe=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/cards/{id}/duplicate"}),Se=e=>((e==null?void 0:e.client)??a).delete({...e,url:"/api/cards/{id}"}),$e=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/cards/{cardId}/memberships"}),Le=e=>((e==null?void 0:e.client)??a).delete({...e,url:"/api/cards/{cardId}/memberships"}),ke=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/cards/{cardId}/labels"}),Be=e=>((e==null?void 0:e.client)??a).delete({...e,url:"/api/cards/{cardId}/labels/{labelId}"}),Re=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/cards/{cardId}/tasks"}),ze=e=>((e==null?void 0:e.client)??a).patch({...e,url:"/api/tasks/{id}"}),qe=e=>((e==null?void 0:e.client)??a).delete({...e,url:"/api/tasks/{id}"}),Ee=e=>((e==null?void 0:e.client)??a).post({...U,...e,headers:{"Content-Type":null},url:"/api/cards/{cardId}/attachments"}),Me=e=>((e==null?void 0:e.client)??a).patch({...e,url:"/api/attachments/{id}"}),_e=e=>((e==null?void 0:e.client)??a).delete({...e,url:"/api/attachments/{id}"}),Ne=e=>((e==null?void 0:e.client)??a).get({...e,url:"/attachments/{id}/download/{filename}"}),We=e=>((e==null?void 0:e.client)??a).get({...e,url:"/attachments/{id}/download/thumbnails/cover-256.{extension}"}),De=e=>((e==null?void 0:e.client)??a).get({...e,url:"/api/cards/{cardId}/actions"}),Je=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/cards/{cardId}/comment-actions"}),He=e=>((e==null?void 0:e.client)??a).patch({...e,url:"/api/comment-actions/{id}"}),Fe=e=>((e==null?void 0:e.client)??a).delete({...e,url:"/api/comment-actions/{id}"}),Ge=e=>((e==null?void 0:e.client)??a).get({...e,url:"/api/notifications"}),Ke=e=>((e==null?void 0:e.client)??a).get({...e,url:"/api/notifications/{id}"}),Qe=e=>((e==null?void 0:e.client)??a).patch({...e,url:"/api/notifications/{ids}"});r.authorize=F,r.authorizeOidc=G,r.client=a,r.createAttachment=Ee,r.createBoard=me,r.createBoardMembership=be,r.createCard=Te,r.createCardLabel=ke,r.createCardMembership=$e,r.createCommentAction=Je,r.createLabel=ye,r.createList=we,r.createProject=ae,r.createProjectManager=ue,r.createTask=Re,r.createUser=V,r.deleteAttachment=_e,r.deleteBoard=fe,r.deleteBoardMembership=ge,r.deleteCard=Se,r.deleteCardLabel=Be,r.deleteCardMembership=Le,r.deleteCommentAction=Fe,r.deleteLabel=Ce,r.deleteList=ve,r.deleteProject=de,r.deleteProjectManager=ne,r.deleteTask=qe,r.deleteUser=ee,r.duplicateCard=Oe,r.getAttachment=Ne,r.getAttachmentThumbnail=We,r.getBoard=he,r.getCard=Ie,r.getCardActions=De,r.getConfig=H,r.getNotification=Ke,r.getNotifications=Ge,r.getProject=te,r.getProjects=re,r.getUser=X,r.getUsers=Q,r.sortList=Ue,r.unauthorize=K,r.updateAttachment=Me,r.updateBoard=ie,r.updateBoardMembership=se,r.updateCard=Pe,r.updateCommentAction=He,r.updateLabel=je,r.updateList=Ae,r.updateNotifications=Qe,r.updateProject=le,r.updateProjectBackgroundImage=ce,r.updateTask=ze,r.updateUser=Y,r.updateUserAvatar=o,r.updateUserEmail=Z,r.updateUserPassword=x,r.updateUserUsername=p,Object.defineProperty(r,Symbol.toStringTag,{value:"Module"})});
