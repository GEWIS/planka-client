(function(r,m){typeof exports=="object"&&typeof module<"u"?m(exports):typeof define=="function"&&define.amd?define(["exports"],m):(r=typeof globalThis<"u"?globalThis:r||self,m(r["planka-client"]={}))})(this,function(r){"use strict";var Ke=Object.defineProperty;var Qe=(r,m,s)=>m in r?Ke(r,m,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[m]=s;var $=(r,m,s)=>Qe(r,typeof m!="symbol"?m+"":m,s);var m=/\{[^{}]+\}/g,s=({allowReserved:e,name:d,value:c})=>{if(c==null)return"";if(typeof c=="object")throw new Error("Deeply-nested arrays/objects arenâ€™t supported. Provide your own `querySerializer()` to handle these.");return`${d}=${e?c:encodeURIComponent(c)}`},E=e=>{switch(e){case"label":return".";case"matrix":return";";case"simple":return",";default:return"&"}},N=e=>{switch(e){case"form":return",";case"pipeDelimited":return"|";case"spaceDelimited":return"%20";default:return","}},k=e=>{switch(e){case"label":return".";case"matrix":return";";case"simple":return",";default:return"&"}},v=({allowReserved:e,explode:d,name:c,style:n,value:u})=>{if(!d){let l=(e?u:u.map(f=>encodeURIComponent(f))).join(N(n));switch(n){case"label":return`.${l}`;case"matrix":return`;${c}=${l}`;case"simple":return l;default:return`${c}=${l}`}}let i=E(n),t=u.map(l=>n==="label"||n==="simple"?e?l:encodeURIComponent(l):s({allowReserved:e,name:c,value:l})).join(i);return n==="label"||n==="matrix"?i+t:t},I=({allowReserved:e,explode:d,name:c,style:n,value:u})=>{if(u instanceof Date)return`${c}=${u.toISOString()}`;if(n!=="deepObject"&&!d){let l=[];Object.entries(u).forEach(([y,b])=>{l=[...l,y,e?b:encodeURIComponent(b)]});let f=l.join(",");switch(n){case"form":return`${c}=${f}`;case"label":return`.${f}`;case"matrix":return`;${c}=${f}`;default:return f}}let i=k(n),t=Object.entries(u).map(([l,f])=>s({allowReserved:e,name:n==="deepObject"?`${c}[${l}]`:l,value:f})).join(i);return n==="label"||n==="matrix"?i+t:t},B=({path:e,url:d})=>{let c=d,n=d.match(m);if(n)for(let u of n){let i=!1,t=u.substring(1,u.length-1),l="simple";t.endsWith("*")&&(i=!0,t=t.substring(0,t.length-1)),t.startsWith(".")?(t=t.substring(1),l="label"):t.startsWith(";")&&(t=t.substring(1),l="matrix");let f=e[t];if(f==null)continue;if(Array.isArray(f)){c=c.replace(u,v({explode:i,name:t,style:l,value:f}));continue}if(typeof f=="object"){c=c.replace(u,I({explode:i,name:t,style:l,value:f}));continue}if(l==="matrix"){c=c.replace(u,`;${s({name:t,value:f})}`);continue}let y=encodeURIComponent(l==="label"?`.${f}`:f);c=c.replace(u,y)}return c},O=({allowReserved:e,array:d,object:c}={})=>n=>{let u=[];if(n&&typeof n=="object")for(let i in n){let t=n[i];if(t!=null){if(Array.isArray(t)){u=[...u,v({allowReserved:e,explode:!0,name:i,style:"form",value:t,...d})];continue}if(typeof t=="object"){u=[...u,I({allowReserved:e,explode:!0,name:i,style:"deepObject",value:t,...c})];continue}u=[...u,s({allowReserved:e,name:i,value:t})]}}return u.join("&")},z=e=>{if(e){if(e.startsWith("application/json")||e.endsWith("+json"))return"json";if(e==="multipart/form-data")return"formData";if(["application/","audio/","image/","video/"].some(d=>e.startsWith(d)))return"blob";if(e.startsWith("text/"))return"text"}},M=({baseUrl:e,path:d,query:c,querySerializer:n,url:u})=>{let i=u.startsWith("/")?u:`/${u}`,t=e+i;d&&(t=B({path:d,url:t}));let l=c?n(c):"";return l.startsWith("?")&&(l=l.substring(1)),l&&(t+=`?${l}`),t},T=(e,d)=>{var n;let c={...e,...d};return(n=c.baseUrl)!=null&&n.endsWith("/")&&(c.baseUrl=c.baseUrl.substring(0,c.baseUrl.length-1)),c.headers=P(e.headers,d.headers),c},P=(...e)=>{let d=new Headers;for(let c of e){if(!c||typeof c!="object")continue;let n=c instanceof Headers?c.entries():Object.entries(c);for(let[u,i]of n)if(i===null)d.delete(u);else if(Array.isArray(i))for(let t of i)d.append(u,t);else i!==void 0&&d.set(u,typeof i=="object"?JSON.stringify(i):i)}return d},U=class{constructor(){$(this,"_fns");this._fns=[]}clear(){this._fns=[]}exists(e){return this._fns.indexOf(e)!==-1}eject(e){let d=this._fns.indexOf(e);d!==-1&&(this._fns=[...this._fns.slice(0,d),...this._fns.slice(d+1)])}use(e){this._fns=[...this._fns,e]}},q=()=>({error:new U,request:new U,response:new U}),S=(e,d,c)=>{typeof c=="string"||c instanceof Blob?e.append(d,c):e.append(d,JSON.stringify(c))},L={bodySerializer:e=>{let d=new FormData;return Object.entries(e).forEach(([c,n])=>{n!=null&&(Array.isArray(n)?n.forEach(u=>S(d,c,u)):S(d,c,n))}),d}},D={bodySerializer:e=>JSON.stringify(e)},W=O({allowReserved:!1,array:{explode:!0,style:"form"},object:{explode:!0,style:"deepObject"}}),H={"Content-Type":"application/json"},_=(e={})=>({...D,baseUrl:"",fetch:globalThis.fetch,headers:H,parseAs:"auto",querySerializer:W,...e}),J=(e={})=>{let d=T(_(),e),c=()=>({...d}),n=t=>(d=T(d,t),c()),u=q(),i=async t=>{let l={...d,...t,headers:P(d.headers,t.headers)};l.body&&l.bodySerializer&&(l.body=l.bodySerializer(l.body)),l.body||l.headers.delete("Content-Type");let f=M({baseUrl:l.baseUrl??"",path:l.path,query:l.query,querySerializer:typeof l.querySerializer=="function"?l.querySerializer:O(l.querySerializer),url:l.url}),y={redirect:"follow",...l},b=new Request(f,y);for(let g of u.request._fns)b=await g(b,l);let Ze=l.fetch,h=await Ze(b);for(let g of u.response._fns)h=await g(h,b,l);let C={request:b,response:h};if(h.ok){if(h.status===204||h.headers.get("Content-Length")==="0")return{data:{},...C};if(l.parseAs==="stream")return{data:h.body,...C};let g=(l.parseAs==="auto"?z(h.headers.get("Content-Type")):l.parseAs)??"json",A=await h[g]();return g==="json"&&l.responseTransformer&&(A=await l.responseTransformer(A)),{data:A,...C}}let w=await h.text();try{w=JSON.parse(w)}catch{}let j=w;for(let g of u.error._fns)j=await g(w,h,b,l);if(j=j||{},l.throwOnError)throw j;return{error:j,...C}};return{connect:t=>i({...t,method:"CONNECT"}),delete:t=>i({...t,method:"DELETE"}),get:t=>i({...t,method:"GET"}),getConfig:c,head:t=>i({...t,method:"HEAD"}),interceptors:u,options:t=>i({...t,method:"OPTIONS"}),patch:t=>i({...t,method:"PATCH"}),post:t=>i({...t,method:"POST"}),put:t=>i({...t,method:"PUT"}),request:i,setConfig:n,trace:t=>i({...t,method:"TRACE"})}};const a=J(_()),F=e=>((e==null?void 0:e.client)??a).get({...e,url:"/api/config"}),G=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/access-tokens"}),V=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/access-tokens/exchange-using-oidc"}),Z=e=>((e==null?void 0:e.client)??a).delete({...e,url:"/api/access-tokens/me"}),K=e=>((e==null?void 0:e.client)??a).get({...e,url:"/api/users"}),Q=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/users"}),X=e=>((e==null?void 0:e.client)??a).get({...e,url:"/api/users/{id}"}),Y=e=>((e==null?void 0:e.client)??a).patch({...e,url:"/api/users/{id}"}),x=e=>((e==null?void 0:e.client)??a).patch({...e,url:"/api/users/{id}/email"}),p=e=>((e==null?void 0:e.client)??a).patch({...e,url:"/api/users/{id}/password"}),o=e=>((e==null?void 0:e.client)??a).patch({...e,url:"/api/users/{id}/username"}),ee=e=>((e==null?void 0:e.client)??a).post({...L,...e,headers:{"Content-Type":null},url:"/api/users/{id}/avatar"}),re=e=>((e==null?void 0:e.client)??a).delete({...e,url:"/api/users/{id}"}),ae=e=>((e==null?void 0:e.client)??a).get({...e,url:"/api/projects"}),te=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/projects"}),le=e=>((e==null?void 0:e.client)??a).get({...e,url:"/api/projects/{id}"}),ce=e=>((e==null?void 0:e.client)??a).patch({...e,url:"/api/projects/{id}"}),de=e=>((e==null?void 0:e.client)??a).post({...L,...e,headers:{"Content-Type":null},url:"/api/projects/{id}/background-image"}),ue=e=>((e==null?void 0:e.client)??a).delete({...e,url:"/api/projects/{id}"}),ne=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/projects/{projectId}/managers"}),ie=e=>((e==null?void 0:e.client)??a).delete({...e,url:"/api/project-managers/{id}"}),fe=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/projects/{projectId}/boards"}),me=e=>((e==null?void 0:e.client)??a).get({...e,url:"/api/boards/{id}"}),he=e=>((e==null?void 0:e.client)??a).patch({...e,url:"/api/boards/{id}"}),se=e=>((e==null?void 0:e.client)??a).delete({...e,url:"/api/boards/{id}"}),be=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/boards/{boardId}/memberships"}),ge=e=>((e==null?void 0:e.client)??a).patch({...e,url:"/api/board-memberships/{id}"}),ye=e=>((e==null?void 0:e.client)??a).delete({...e,url:"/api/board-memberships/{id}"}),je=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/boards/{boardId}/labels"}),Ce=e=>((e==null?void 0:e.client)??a).patch({...e,url:"/api/labels/{id}"}),we=e=>((e==null?void 0:e.client)??a).delete({...e,url:"/api/labels/{id}"}),Ue=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/boards/{boardId}/lists"}),Ae=e=>((e==null?void 0:e.client)??a).patch({...e,url:"/api/lists/{id}"}),ve=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/lists/{id}/sort"}),Ie=e=>((e==null?void 0:e.client)??a).delete({...e,url:"/api/lists/{id}"}),Oe=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/lists/{listId}/cards"}),Te=e=>((e==null?void 0:e.client)??a).get({...e,url:"/api/cards/{id}"}),Pe=e=>((e==null?void 0:e.client)??a).patch({...e,url:"/api/cards/{id}"}),Se=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/cards/{id}/duplicate"}),Le=e=>((e==null?void 0:e.client)??a).delete({...e,url:"/api/cards/{id}"}),_e=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/cards/{cardId}/memberships"}),Re=e=>((e==null?void 0:e.client)??a).delete({...e,url:"/api/cards/{cardId}/memberships"}),$e=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/cards/{cardId}/labels"}),Ee=e=>((e==null?void 0:e.client)??a).delete({...e,url:"/api/cards/{cardId}/labels/{labelId}"}),Ne=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/cards/{cardId}/tasks"}),ke=e=>((e==null?void 0:e.client)??a).patch({...e,url:"/api/tasks/{id}"}),Be=e=>((e==null?void 0:e.client)??a).delete({...e,url:"/api/tasks/{id}"}),ze=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/cards/{cardId}/attachments"}),Me=e=>((e==null?void 0:e.client)??a).patch({...e,url:"/api/attachments/{id}"}),qe=e=>((e==null?void 0:e.client)??a).delete({...e,url:"/api/attachments/{id}"}),De=e=>((e==null?void 0:e.client)??a).get({...e,url:"/api/cards/{cardId}/actions"}),We=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/cards/{cardId}/comment-actions"}),He=e=>((e==null?void 0:e.client)??a).patch({...e,url:"/api/comment-actions/{id}"}),Je=e=>((e==null?void 0:e.client)??a).delete({...e,url:"/api/comment-actions/{id}"}),Fe=e=>((e==null?void 0:e.client)??a).get({...e,url:"/api/notifications"}),Ge=e=>((e==null?void 0:e.client)??a).get({...e,url:"/api/notifications/{id}"}),Ve=e=>((e==null?void 0:e.client)??a).patch({...e,url:"/api/notifications/{ids}"});var R=(e=>(e.s400="E_MISSING_OR_INVALID_PARAMS",e.s401="E_UNAUTHORIZED",e.s404="E_NOT_FOUND",e.s409="E_CONFLICT",e))(R||{});r.StatusCode=R,r.authorize=G,r.authorizeOidc=V,r.client=a,r.createAttachment=ze,r.createBoard=fe,r.createBoardMembership=be,r.createCard=Oe,r.createCardLabel=$e,r.createCardMembership=_e,r.createCommentAction=We,r.createLabel=je,r.createList=Ue,r.createProject=te,r.createProjectManager=ne,r.createTask=Ne,r.createUser=Q,r.deleteAttachment=qe,r.deleteBoard=se,r.deleteBoardMembership=ye,r.deleteCard=Le,r.deleteCardLabel=Ee,r.deleteCardMembership=Re,r.deleteCommentAction=Je,r.deleteLabel=we,r.deleteList=Ie,r.deleteProject=ue,r.deleteProjectManager=ie,r.deleteTask=Be,r.deleteUser=re,r.duplicateCard=Se,r.getBoard=me,r.getCard=Te,r.getCardActions=De,r.getConfig=F,r.getNotification=Ge,r.getNotifications=Fe,r.getProject=le,r.getProjects=ae,r.getUser=X,r.getUsers=K,r.sortList=ve,r.unauthorize=Z,r.updateAttachment=Me,r.updateBoard=he,r.updateBoardMembership=ge,r.updateCard=Pe,r.updateCommentAction=He,r.updateLabel=Ce,r.updateList=Ae,r.updateNotifications=Ve,r.updateProject=ce,r.updateProjectBackgroundImage=de,r.updateTask=ke,r.updateUser=Y,r.updateUserAvatar=ee,r.updateUserEmail=x,r.updateUserPassword=p,r.updateUserUsername=o,Object.defineProperty(r,Symbol.toStringTag,{value:"Module"})});
