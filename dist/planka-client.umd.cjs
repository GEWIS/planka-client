(function(r,m){typeof exports=="object"&&typeof module<"u"?m(exports):typeof define=="function"&&define.amd?define(["exports"],m):(r=typeof globalThis<"u"?globalThis:r||self,m(r["planka-client"]={}))})(this,function(r){"use strict";var xe=Object.defineProperty;var pe=(r,m,g)=>m in r?xe(r,m,{enumerable:!0,configurable:!0,writable:!0,value:g}):r[m]=g;var L=(r,m,g)=>pe(r,typeof m!="symbol"?m+"":m,g);var m=async(e,c)=>{let a=typeof c=="function"?await c(e):c;if(a)return e.scheme==="bearer"?`Bearer ${a}`:e.scheme==="basic"?`Basic ${btoa(a)}`:a},g=(e,c,a)=>{typeof a=="string"||a instanceof Blob?e.append(c,a):e.append(c,JSON.stringify(a))},v={bodySerializer:e=>{let c=new FormData;return Object.entries(e).forEach(([a,d])=>{d!=null&&(Array.isArray(d)?d.forEach(n=>g(c,a,n)):g(c,a,d))}),c}},k={bodySerializer:e=>JSON.stringify(e,(c,a)=>typeof a=="bigint"?a.toString():a)},z=e=>{switch(e){case"label":return".";case"matrix":return";";case"simple":return",";default:return"&"}},R=e=>{switch(e){case"form":return",";case"pipeDelimited":return"|";case"spaceDelimited":return"%20";default:return","}},E=e=>{switch(e){case"label":return".";case"matrix":return";";case"simple":return",";default:return"&"}},I=({allowReserved:e,explode:c,name:a,style:d,value:n})=>{if(!c){let u=(e?n:n.map(h=>encodeURIComponent(h))).join(R(d));switch(d){case"label":return`.${u}`;case"matrix":return`;${a}=${u}`;case"simple":return u;default:return`${a}=${u}`}}let i=z(d),l=n.map(u=>d==="label"||d==="simple"?e?u:encodeURIComponent(u):C({allowReserved:e,name:a,value:u})).join(i);return d==="label"||d==="matrix"?i+l:l},C=({allowReserved:e,name:c,value:a})=>{if(a==null)return"";if(typeof a=="object")throw new Error("Deeply-nested arrays/objects arenâ€™t supported. Provide your own `querySerializer()` to handle these.");return`${c}=${e?a:encodeURIComponent(a)}`},P=({allowReserved:e,explode:c,name:a,style:d,value:n})=>{if(n instanceof Date)return`${a}=${n.toISOString()}`;if(d!=="deepObject"&&!c){let u=[];Object.entries(n).forEach(([y,s])=>{u=[...u,y,e?s:encodeURIComponent(s)]});let h=u.join(",");switch(d){case"form":return`${a}=${h}`;case"label":return`.${h}`;case"matrix":return`;${a}=${h}`;default:return h}}let i=E(d),l=Object.entries(n).map(([u,h])=>C({allowReserved:e,name:d==="deepObject"?`${a}[${u}]`:u,value:h})).join(i);return d==="label"||d==="matrix"?i+l:l},M=/\{[^{}]+\}/g,N=({path:e,url:c})=>{let a=c,d=c.match(M);if(d)for(let n of d){let i=!1,l=n.substring(1,n.length-1),u="simple";l.endsWith("*")&&(i=!0,l=l.substring(0,l.length-1)),l.startsWith(".")?(l=l.substring(1),u="label"):l.startsWith(";")&&(l=l.substring(1),u="matrix");let h=e[l];if(h==null)continue;if(Array.isArray(h)){a=a.replace(n,I({explode:i,name:l,style:u,value:h}));continue}if(typeof h=="object"){a=a.replace(n,P({explode:i,name:l,style:u,value:h}));continue}if(u==="matrix"){a=a.replace(n,`;${C({name:l,value:h})}`);continue}let y=encodeURIComponent(u==="label"?`.${h}`:h);a=a.replace(n,y)}return a},O=({allowReserved:e,array:c,object:a}={})=>d=>{let n=[];if(d&&typeof d=="object")for(let i in d){let l=d[i];if(l!=null){if(Array.isArray(l)){n=[...n,I({allowReserved:e,explode:!0,name:i,style:"form",value:l,...c})];continue}if(typeof l=="object"){n=[...n,P({allowReserved:e,explode:!0,name:i,style:"deepObject",value:l,...a})];continue}n=[...n,C({allowReserved:e,name:i,value:l})]}}return n.join("&")},_=e=>{var a;if(!e)return"stream";let c=(a=e.split(";")[0])==null?void 0:a.trim();if(c){if(c.startsWith("application/json")||c.endsWith("+json"))return"json";if(c==="multipart/form-data")return"formData";if(["application/","audio/","image/","video/"].some(d=>c.startsWith(d)))return"blob";if(c.startsWith("text/"))return"text"}},W=async({security:e,...c})=>{for(let a of e){let d=await m(a,c.auth);if(!d)continue;let n=a.name??"Authorization";switch(a.in){case"query":c.query||(c.query={}),c.query[n]=d;break;case"header":default:c.headers.set(n,d);break}return}},S=e=>D({baseUrl:e.baseUrl,path:e.path,query:e.query,querySerializer:typeof e.querySerializer=="function"?e.querySerializer:O(e.querySerializer),url:e.url}),D=({baseUrl:e,path:c,query:a,querySerializer:d,url:n})=>{let i=n.startsWith("/")?n:`/${n}`,l=(e??"")+i;c&&(l=N({path:c,url:l}));let u=a?d(a):"";return u.startsWith("?")&&(u=u.substring(1)),u&&(l+=`?${u}`),l},$=(e,c)=>{var d;let a={...e,...c};return(d=a.baseUrl)!=null&&d.endsWith("/")&&(a.baseUrl=a.baseUrl.substring(0,a.baseUrl.length-1)),a.headers=q(e.headers,c.headers),a},q=(...e)=>{let c=new Headers;for(let a of e){if(!a||typeof a!="object")continue;let d=a instanceof Headers?a.entries():Object.entries(a);for(let[n,i]of d)if(i===null)c.delete(n);else if(Array.isArray(i))for(let l of i)c.append(n,l);else i!==void 0&&c.set(n,typeof i=="object"?JSON.stringify(i):i)}return c},T=class{constructor(){L(this,"_fns");this._fns=[]}clear(){this._fns=[]}exists(e){return this._fns.indexOf(e)!==-1}eject(e){let c=this._fns.indexOf(e);c!==-1&&(this._fns=[...this._fns.slice(0,c),...this._fns.slice(c+1)])}use(e){this._fns=[...this._fns,e]}},H=()=>({error:new T,request:new T,response:new T}),J=O({allowReserved:!1,array:{explode:!0,style:"form"},object:{explode:!0,style:"deepObject"}}),V={"Content-Type":"application/json"},B=(e={})=>({...k,headers:V,parseAs:"auto",querySerializer:J,...e}),F=(e={})=>{let c=$(B(),e),a=()=>({...c}),d=l=>(c=$(c,l),a()),n=H(),i=async l=>{let u={...c,...l,fetch:l.fetch??c.fetch??globalThis.fetch,headers:q(c.headers,l.headers)};u.security&&await W({...u,security:u.security}),u.body&&u.bodySerializer&&(u.body=u.bodySerializer(u.body)),u.body||u.headers.delete("Content-Type");let h=S(u),y={redirect:"follow",...u},s=new Request(h,y);for(let b of n.request._fns)s=await b(s,u);let Ze=u.fetch,f=await Ze(s);for(let b of n.response._fns)f=await b(f,s,u);let w={request:s,response:f};if(f.ok){if(f.status===204||f.headers.get("Content-Length")==="0")return{data:{},...w};let b=(u.parseAs==="auto"?_(f.headers.get("Content-Type")):u.parseAs)??"json";if(b==="stream")return{data:f.body,...w};let U=await f[b]();return b==="json"&&(u.responseValidator&&await u.responseValidator(U),u.responseTransformer&&(U=await u.responseTransformer(U))),{data:U,...w}}let A=await f.text();try{A=JSON.parse(A)}catch{}let j=A;for(let b of n.error._fns)j=await b(A,f,s,u);if(j=j||{},u.throwOnError)throw j;return{error:j,...w}};return{buildUrl:S,connect:l=>i({...l,method:"CONNECT"}),delete:l=>i({...l,method:"DELETE"}),get:l=>i({...l,method:"GET"}),getConfig:a,head:l=>i({...l,method:"HEAD"}),interceptors:n,options:l=>i({...l,method:"OPTIONS"}),patch:l=>i({...l,method:"PATCH"}),post:l=>i({...l,method:"POST"}),put:l=>i({...l,method:"PUT"}),request:i,setConfig:d,trace:l=>i({...l,method:"TRACE"})}};const t=F(B()),G=e=>((e==null?void 0:e.client)??t).get({...e,url:"/api/config"}),Q=e=>((e==null?void 0:e.client)??t).post({...e,url:"/api/access-tokens"}),K=e=>((e==null?void 0:e.client)??t).post({...e,url:"/api/access-tokens/exchange-using-oidc"}),X=e=>((e==null?void 0:e.client)??t).delete({...e,url:"/api/access-tokens/me"}),Y=e=>((e==null?void 0:e.client)??t).get({...e,url:"/api/users"}),Z=e=>((e==null?void 0:e.client)??t).post({...e,url:"/api/users"}),x=e=>((e==null?void 0:e.client)??t).get({...e,url:"/api/users/{id}"}),p=e=>((e==null?void 0:e.client)??t).patch({...e,url:"/api/users/{id}"}),o=e=>((e==null?void 0:e.client)??t).patch({...e,url:"/api/users/{id}/email"}),ee=e=>((e==null?void 0:e.client)??t).patch({...e,url:"/api/users/{id}/password"}),re=e=>((e==null?void 0:e.client)??t).patch({...e,url:"/api/users/{id}/username"}),ae=e=>((e==null?void 0:e.client)??t).post({...v,...e,headers:{"Content-Type":null},url:"/api/users/{id}/avatar"}),te=e=>((e==null?void 0:e.client)??t).delete({...e,url:"/api/users/{id}"}),le=e=>((e==null?void 0:e.client)??t).get({...e,url:"/api/projects"}),ce=e=>((e==null?void 0:e.client)??t).post({...e,url:"/api/projects"}),ue=e=>((e==null?void 0:e.client)??t).get({...e,url:"/api/projects/{id}"}),de=e=>((e==null?void 0:e.client)??t).patch({...e,url:"/api/projects/{id}"}),ne=e=>((e==null?void 0:e.client)??t).post({...v,...e,headers:{"Content-Type":null},url:"/api/projects/{id}/background-image"}),ie=e=>((e==null?void 0:e.client)??t).delete({...e,url:"/api/projects/{id}"}),he=e=>((e==null?void 0:e.client)??t).post({...e,url:"/api/projects/{projectId}/managers"}),me=e=>((e==null?void 0:e.client)??t).delete({...e,url:"/api/project-managers/{id}"}),fe=e=>((e==null?void 0:e.client)??t).post({...e,url:"/api/projects/{projectId}/boards"}),se=e=>((e==null?void 0:e.client)??t).get({...e,url:"/api/boards/{id}"}),be=e=>((e==null?void 0:e.client)??t).patch({...e,url:"/api/boards/{id}"}),ge=e=>((e==null?void 0:e.client)??t).delete({...e,url:"/api/boards/{id}"}),ye=e=>((e==null?void 0:e.client)??t).post({...e,url:"/api/boards/{boardId}/memberships"}),je=e=>((e==null?void 0:e.client)??t).patch({...e,url:"/api/board-memberships/{id}"}),Ce=e=>((e==null?void 0:e.client)??t).delete({...e,url:"/api/board-memberships/{id}"}),we=e=>((e==null?void 0:e.client)??t).post({...e,url:"/api/boards/{boardId}/labels"}),Ae=e=>((e==null?void 0:e.client)??t).patch({...e,url:"/api/labels/{id}"}),Ue=e=>((e==null?void 0:e.client)??t).delete({...e,url:"/api/labels/{id}"}),ve=e=>((e==null?void 0:e.client)??t).post({...e,url:"/api/boards/{boardId}/lists"}),Te=e=>((e==null?void 0:e.client)??t).patch({...e,url:"/api/lists/{id}"}),Ie=e=>((e==null?void 0:e.client)??t).post({...e,url:"/api/lists/{id}/sort"}),Pe=e=>((e==null?void 0:e.client)??t).delete({...e,url:"/api/lists/{id}"}),Oe=e=>((e==null?void 0:e.client)??t).post({...e,url:"/api/lists/{listId}/cards"}),Se=e=>((e==null?void 0:e.client)??t).get({...e,url:"/api/cards/{id}"}),$e=e=>((e==null?void 0:e.client)??t).patch({...e,url:"/api/cards/{id}"}),qe=e=>((e==null?void 0:e.client)??t).post({...e,url:"/api/cards/{id}/duplicate"}),Be=e=>((e==null?void 0:e.client)??t).delete({...e,url:"/api/cards/{id}"}),Le=e=>((e==null?void 0:e.client)??t).post({...e,url:"/api/cards/{cardId}/memberships"}),ke=e=>((e==null?void 0:e.client)??t).delete({...e,url:"/api/cards/{cardId}/memberships"}),ze=e=>((e==null?void 0:e.client)??t).post({...e,url:"/api/cards/{cardId}/labels"}),Re=e=>((e==null?void 0:e.client)??t).delete({...e,url:"/api/cards/{cardId}/labels/{labelId}"}),Ee=e=>((e==null?void 0:e.client)??t).post({...e,url:"/api/cards/{cardId}/tasks"}),Me=e=>((e==null?void 0:e.client)??t).patch({...e,url:"/api/tasks/{id}"}),Ne=e=>((e==null?void 0:e.client)??t).delete({...e,url:"/api/tasks/{id}"}),_e=e=>((e==null?void 0:e.client)??t).post({...v,...e,headers:{"Content-Type":null},url:"/api/cards/{cardId}/attachments"}),We=e=>((e==null?void 0:e.client)??t).patch({...e,url:"/api/attachments/{id}"}),De=e=>((e==null?void 0:e.client)??t).delete({...e,url:"/api/attachments/{id}"}),He=e=>((e==null?void 0:e.client)??t).get({...e,url:"/attachments/{id}/download/{filename}"}),Je=e=>((e==null?void 0:e.client)??t).get({...e,url:"/attachments/{id}/download/thumbnails/cover-256.{extension}"}),Ve=e=>((e==null?void 0:e.client)??t).get({...e,url:"/api/cards/{cardId}/actions"}),Fe=e=>((e==null?void 0:e.client)??t).post({...e,url:"/api/cards/{cardId}/comment-actions"}),Ge=e=>((e==null?void 0:e.client)??t).patch({...e,url:"/api/comment-actions/{id}"}),Qe=e=>((e==null?void 0:e.client)??t).delete({...e,url:"/api/comment-actions/{id}"}),Ke=e=>((e==null?void 0:e.client)??t).get({...e,url:"/api/notifications"}),Xe=e=>((e==null?void 0:e.client)??t).get({...e,url:"/api/notifications/{id}"}),Ye=e=>((e==null?void 0:e.client)??t).patch({...e,url:"/api/notifications/{ids}"});r.authorize=Q,r.authorizeOidc=K,r.client=t,r.createAttachment=_e,r.createBoard=fe,r.createBoardMembership=ye,r.createCard=Oe,r.createCardLabel=ze,r.createCardMembership=Le,r.createCommentAction=Fe,r.createLabel=we,r.createList=ve,r.createProject=ce,r.createProjectManager=he,r.createTask=Ee,r.createUser=Z,r.deleteAttachment=De,r.deleteBoard=ge,r.deleteBoardMembership=Ce,r.deleteCard=Be,r.deleteCardLabel=Re,r.deleteCardMembership=ke,r.deleteCommentAction=Qe,r.deleteLabel=Ue,r.deleteList=Pe,r.deleteProject=ie,r.deleteProjectManager=me,r.deleteTask=Ne,r.deleteUser=te,r.duplicateCard=qe,r.getAttachment=He,r.getAttachmentThumbnail=Je,r.getBoard=se,r.getCard=Se,r.getCardActions=Ve,r.getConfig=G,r.getNotification=Xe,r.getNotifications=Ke,r.getProject=ue,r.getProjects=le,r.getUser=x,r.getUsers=Y,r.sortList=Ie,r.unauthorize=X,r.updateAttachment=We,r.updateBoard=be,r.updateBoardMembership=je,r.updateCard=$e,r.updateCommentAction=Ge,r.updateLabel=Ae,r.updateList=Te,r.updateNotifications=Ye,r.updateProject=de,r.updateProjectBackgroundImage=ne,r.updateTask=Me,r.updateUser=p,r.updateUserAvatar=ae,r.updateUserEmail=o,r.updateUserPassword=ee,r.updateUserUsername=re,Object.defineProperty(r,Symbol.toStringTag,{value:"Module"})});
