(function(r,f){typeof exports=="object"&&typeof module<"u"?f(exports):typeof define=="function"&&define.amd?define(["exports"],f):(r=typeof globalThis<"u"?globalThis:r||self,f(r["planka-client"]={}))})(this,function(r){"use strict";var Ke=Object.defineProperty;var Qe=(r,f,s)=>f in r?Ke(r,f,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[f]=s;var B=(r,f,s)=>Qe(r,typeof f!="symbol"?f+"":f,s);var f=/\{[^{}]+\}/g,s=({allowReserved:e,name:n,value:c})=>{if(c==null)return"";if(typeof c=="object")throw new Error("Deeply-nested arrays/objects arenâ€™t supported. Provide your own `querySerializer()` to handle these.");return`${n}=${e?c:encodeURIComponent(c)}`},R=e=>{switch(e){case"label":return".";case"matrix":return";";case"simple":return",";default:return"&"}},k=e=>{switch(e){case"form":return",";case"pipeDelimited":return"|";case"spaceDelimited":return"%20";default:return","}},q=e=>{switch(e){case"label":return".";case"matrix":return";";case"simple":return",";default:return"&"}},A=({allowReserved:e,explode:n,name:c,style:i,value:d})=>{if(!n){let l=(e?d:d.map(m=>encodeURIComponent(m))).join(k(i));switch(i){case"label":return`.${l}`;case"matrix":return`;${c}=${l}`;case"simple":return l;default:return`${c}=${l}`}}let u=R(i),t=d.map(l=>i==="label"||i==="simple"?e?l:encodeURIComponent(l):s({allowReserved:e,name:c,value:l})).join(u);return i==="label"||i==="matrix"?u+t:t},I=({allowReserved:e,explode:n,name:c,style:i,value:d})=>{if(d instanceof Date)return`${c}=${d.toISOString()}`;if(i!=="deepObject"&&!n){let l=[];Object.entries(d).forEach(([j,b])=>{l=[...l,j,e?b:encodeURIComponent(b)]});let m=l.join(",");switch(i){case"form":return`${c}=${m}`;case"label":return`.${m}`;case"matrix":return`;${c}=${m}`;default:return m}}let u=q(i),t=Object.entries(d).map(([l,m])=>s({allowReserved:e,name:i==="deepObject"?`${c}[${l}]`:l,value:m})).join(u);return i==="label"||i==="matrix"?u+t:t},z=({path:e,url:n})=>{let c=n,i=n.match(f);if(i)for(let d of i){let u=!1,t=d.substring(1,d.length-1),l="simple";t.endsWith("*")&&(u=!0,t=t.substring(0,t.length-1)),t.startsWith(".")?(t=t.substring(1),l="label"):t.startsWith(";")&&(t=t.substring(1),l="matrix");let m=e[t];if(m==null)continue;if(Array.isArray(m)){c=c.replace(d,A({explode:u,name:t,style:l,value:m}));continue}if(typeof m=="object"){c=c.replace(d,I({explode:u,name:t,style:l,value:m}));continue}if(l==="matrix"){c=c.replace(d,`;${s({name:t,value:m})}`);continue}let j=encodeURIComponent(l==="label"?`.${m}`:m);c=c.replace(d,j)}return c},P=({allowReserved:e,array:n,object:c}={})=>i=>{let d=[];if(i&&typeof i=="object")for(let u in i){let t=i[u];if(t!=null){if(Array.isArray(t)){d=[...d,A({allowReserved:e,explode:!0,name:u,style:"form",value:t,...n})];continue}if(typeof t=="object"){d=[...d,I({allowReserved:e,explode:!0,name:u,style:"deepObject",value:t,...c})];continue}d=[...d,s({allowReserved:e,name:u,value:t})]}}return d.join("&")},S=e=>{if(e){if(e.startsWith("application/json")||e.endsWith("+json"))return"json";if(e==="multipart/form-data")return"formData";if(["application/","audio/","image/","video/"].some(n=>e.startsWith(n)))return"blob";if(e.startsWith("text/"))return"text"}},M=({baseUrl:e,path:n,query:c,querySerializer:i,url:d})=>{let u=d.startsWith("/")?d:`/${d}`,t=e+u;n&&(t=z({path:n,url:t}));let l=c?i(c):"";return l.startsWith("?")&&(l=l.substring(1)),l&&(t+=`?${l}`),t},T=(e,n)=>{var i;let c={...e,...n};return(i=c.baseUrl)!=null&&i.endsWith("/")&&(c.baseUrl=c.baseUrl.substring(0,c.baseUrl.length-1)),c.headers=O(e.headers,n.headers),c},O=(...e)=>{let n=new Headers;for(let c of e){if(!c||typeof c!="object")continue;let i=c instanceof Headers?c.entries():Object.entries(c);for(let[d,u]of i)if(u===null)n.delete(d);else if(Array.isArray(u))for(let t of u)n.append(d,t);else u!==void 0&&n.set(d,typeof u=="object"?JSON.stringify(u):u)}return n},U=class{constructor(){B(this,"_fns");this._fns=[]}clear(){this._fns=[]}exists(e){return this._fns.indexOf(e)!==-1}eject(e){let n=this._fns.indexOf(e);n!==-1&&(this._fns=[...this._fns.slice(0,n),...this._fns.slice(n+1)])}use(e){this._fns=[...this._fns,e]}},_=()=>({error:new U,request:new U,response:new U}),E={bodySerializer:e=>JSON.stringify(e)},N=P({allowReserved:!1,array:{explode:!0,style:"form"},object:{explode:!0,style:"deepObject"}}),W={"Content-Type":"application/json"},$=(e={})=>({...E,baseUrl:"",fetch:globalThis.fetch,headers:W,parseAs:"auto",querySerializer:N,...e}),D=(e={})=>{let n=T($(),e),c=()=>({...n}),i=t=>(n=T(n,t),c()),d=_(),u=async t=>{let l={...n,...t,headers:O(n.headers,t.headers)};l.body&&l.bodySerializer&&(l.body=l.bodySerializer(l.body)),l.body||l.headers.delete("Content-Type");let m=M({baseUrl:l.baseUrl??"",path:l.path,query:l.query,querySerializer:typeof l.querySerializer=="function"?l.querySerializer:P(l.querySerializer),url:l.url}),j={redirect:"follow",...l},b=new Request(m,j);for(let g of d.request._fns)b=await g(b,l);let Fe=l.fetch,h=await Fe(b);for(let g of d.response._fns)h=await g(h,b,l);let C={request:b,response:h};if(h.ok){if(h.status===204||h.headers.get("Content-Length")==="0")return{data:{},...C};if(l.parseAs==="stream")return{data:h.body,...C};let g=(l.parseAs==="auto"?S(h.headers.get("Content-Type")):l.parseAs)??"json",v=await h[g]();return g==="json"&&l.responseTransformer&&(v=await l.responseTransformer(v)),{data:v,...C}}let w=await h.text();try{w=JSON.parse(w)}catch{}let y=w;for(let g of d.error._fns)y=await g(w,h,b,l);if(y=y||{},l.throwOnError)throw y;return{error:y,...C}};return{connect:t=>u({...t,method:"CONNECT"}),delete:t=>u({...t,method:"DELETE"}),get:t=>u({...t,method:"GET"}),getConfig:c,head:t=>u({...t,method:"HEAD"}),interceptors:d,options:t=>u({...t,method:"OPTIONS"}),patch:t=>u({...t,method:"PATCH"}),post:t=>u({...t,method:"POST"}),put:t=>u({...t,method:"PUT"}),request:u,setConfig:i,trace:t=>u({...t,method:"TRACE"})}};const a=D($()),H=e=>((e==null?void 0:e.client)??a).get({...e,url:"/api/config"}),J=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/access-tokens"}),G=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/access-tokens/exchange-using-oidc"}),F=e=>((e==null?void 0:e.client)??a).delete({...e,url:"/api/access-tokens/me"}),K=e=>((e==null?void 0:e.client)??a).get({...e,url:"/api/users"}),Q=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/users"}),V=e=>((e==null?void 0:e.client)??a).get({...e,url:"/api/users/{id}"}),X=e=>((e==null?void 0:e.client)??a).patch({...e,url:"/api/users/{id}"}),Y=e=>((e==null?void 0:e.client)??a).patch({...e,url:"/api/users/{id}/email"}),Z=e=>((e==null?void 0:e.client)??a).patch({...e,url:"/api/users/{id}/password"}),x=e=>((e==null?void 0:e.client)??a).patch({...e,url:"/api/users/{id}/username"}),p=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/users/{id}/avatar"}),o=e=>((e==null?void 0:e.client)??a).delete({...e,url:"/api/users/{id}"}),ee=e=>((e==null?void 0:e.client)??a).get({...e,url:"/api/projects"}),re=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/projects"}),ae=e=>((e==null?void 0:e.client)??a).get({...e,url:"/api/projects/{id}"}),te=e=>((e==null?void 0:e.client)??a).patch({...e,url:"/api/projects/{id}"}),le=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/projects/{id}/background-image"}),ce=e=>((e==null?void 0:e.client)??a).delete({...e,url:"/api/projects/{id}"}),de=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/projects/{projectId}/managers"}),ue=e=>((e==null?void 0:e.client)??a).delete({...e,url:"/api/project-managers/{id}"}),ne=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/projects/{projectId}/boards"}),ie=e=>((e==null?void 0:e.client)??a).get({...e,url:"/api/boards/{id}"}),me=e=>((e==null?void 0:e.client)??a).patch({...e,url:"/api/boards/{id}"}),fe=e=>((e==null?void 0:e.client)??a).delete({...e,url:"/api/boards/{id}"}),he=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/boards/{boardId}/memberships"}),se=e=>((e==null?void 0:e.client)??a).patch({...e,url:"/api/board-memberships/{id}"}),be=e=>((e==null?void 0:e.client)??a).delete({...e,url:"/api/board-memberships/{id}"}),ge=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/boards/{boardId}/labels"}),je=e=>((e==null?void 0:e.client)??a).patch({...e,url:"/api/labels/{id}"}),ye=e=>((e==null?void 0:e.client)??a).delete({...e,url:"/api/labels/{id}"}),Ce=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/boards/{boardId}/lists"}),we=e=>((e==null?void 0:e.client)??a).patch({...e,url:"/api/lists/{id}"}),Ue=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/lists/{id}/sort"}),ve=e=>((e==null?void 0:e.client)??a).delete({...e,url:"/api/lists/{id}"}),Ae=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/lists/{listId}/cards"}),Ie=e=>((e==null?void 0:e.client)??a).get({...e,url:"/api/cards/{id}"}),Pe=e=>((e==null?void 0:e.client)??a).patch({...e,url:"/api/cards/{id}"}),Te=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/cards/{id}/duplicate"}),Oe=e=>((e==null?void 0:e.client)??a).delete({...e,url:"/api/cards/{id}"}),$e=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/cards/{cardId}/memberships"}),Le=e=>((e==null?void 0:e.client)??a).delete({...e,url:"/api/cards/{cardId}/memberships"}),Be=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/cards/{cardId}/labels"}),Re=e=>((e==null?void 0:e.client)??a).delete({...e,url:"/api/cards/{cardId}/labels/{labelId}"}),ke=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/cards/{cardId}/tasks"}),qe=e=>((e==null?void 0:e.client)??a).patch({...e,url:"/api/tasks/{id}"}),ze=e=>((e==null?void 0:e.client)??a).delete({...e,url:"/api/tasks/{id}"}),Se=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/cards/{cardId}/attachments"}),Me=e=>((e==null?void 0:e.client)??a).patch({...e,url:"/api/attachments/{id}"}),_e=e=>((e==null?void 0:e.client)??a).delete({...e,url:"/api/attachments/{id}"}),Ee=e=>((e==null?void 0:e.client)??a).get({...e,url:"/api/cards/{cardId}/actions"}),Ne=e=>((e==null?void 0:e.client)??a).post({...e,url:"/api/cards/{cardId}/comment-actions"}),We=e=>((e==null?void 0:e.client)??a).patch({...e,url:"/api/comment-actions/{id}"}),De=e=>((e==null?void 0:e.client)??a).delete({...e,url:"/api/comment-actions/{id}"}),He=e=>((e==null?void 0:e.client)??a).get({...e,url:"/api/notifications"}),Je=e=>((e==null?void 0:e.client)??a).get({...e,url:"/api/notifications/{id}"}),Ge=e=>((e==null?void 0:e.client)??a).patch({...e,url:"/api/notifications/{ids}"});var L=(e=>(e.s400="Bad request",e.s401="Unauthorized",e.s404="Not found",e.s409="Conflict",e.s422="Bad request (unprocessable)",e))(L||{});r.StatusCode=L,r.authorize=J,r.authorizeOidc=G,r.client=a,r.createAttachment=Se,r.createBoard=ne,r.createBoardMembership=he,r.createCard=Ae,r.createCardLabel=Be,r.createCardMembership=$e,r.createCommentAction=Ne,r.createLabel=ge,r.createList=Ce,r.createProject=re,r.createProjectManager=de,r.createTask=ke,r.createUser=Q,r.deleteAttachment=_e,r.deleteBoard=fe,r.deleteBoardMembership=be,r.deleteCard=Oe,r.deleteCardLabel=Re,r.deleteCardMembership=Le,r.deleteCommentAction=De,r.deleteLabel=ye,r.deleteList=ve,r.deleteProject=ce,r.deleteProjectManager=ue,r.deleteTask=ze,r.deleteUser=o,r.duplicateCard=Te,r.getBoard=ie,r.getCard=Ie,r.getCardActions=Ee,r.getConfig=H,r.getNotification=Je,r.getNotifications=He,r.getProject=ae,r.getProjects=ee,r.getUser=V,r.getUsers=K,r.sortList=Ue,r.unauthorize=F,r.updateAttachment=Me,r.updateBoard=me,r.updateBoardMembership=se,r.updateCard=Pe,r.updateCommentAction=We,r.updateLabel=je,r.updateList=we,r.updateNotifications=Ge,r.updateProject=te,r.updateProjectBackgroundImage=le,r.updateTask=qe,r.updateUser=X,r.updateUserAvatar=p,r.updateUserEmail=Y,r.updateUserPassword=Z,r.updateUserUsername=x,Object.defineProperty(r,Symbol.toStringTag,{value:"Module"})});
